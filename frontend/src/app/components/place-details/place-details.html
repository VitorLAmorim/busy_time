<mat-card class="h-full">
  <mat-card-header>
    <div class="space-y-4 w-full">
      <div class="flex items-start justify-between">
        <div class="space-y-2">
          <mat-card-title class="text-xl">{{ place.name }}</mat-card-title>
          <div class="flex items-center gap-2">
            <mat-chip-set>
              <mat-chip class="text-sm {{ place.type }}">
                {{ formatPlaceType(place.type) }}
              </mat-chip>
            </mat-chip-set>
            @if (place.priceLevel) {
              <span class="text-lg font-medium text-muted-foreground">
                {{ place.priceLevel | priceLevelLabel }}
              </span>
            }
          </div>
        </div>
        <div class="text-right space-y-1">
          <div class="flex items-center gap-1">
            @for (star of getStarArray(place.rating); track $index) {
              @switch (star) {
                @case ('full') {
                  <mat-icon class="h-4 w-4 text-yellow-400">star</mat-icon>
                }
                @case ('half') {
                  <mat-icon class="h-4 w-4 text-yellow-400">star_half</mat-icon>
                }
                @case ('empty') {
                  <mat-icon class="h-4 w-4 text-gray-300">star_border</mat-icon>
                }
              }
            }
            <span class="ml-2 font-medium">{{ place.rating.toFixed(1) }} stars</span>
          </div>
          <div class="flex items-center gap-1 text-sm text-muted-foreground">
            <mat-icon class="h-3 w-3">message</mat-icon>
            <span>{{ place.reviews }} reviews</span>
          </div>
        </div>
      </div>
    </div>
  </mat-card-header>
  <mat-card-content class="space-y-6">
    <div class="space-y-4">
      <h3 class="font-medium flex items-center gap-2">
        <mat-icon class="h-4 w-4">info</mat-icon>
        Location Information
      </h3>

      <div class="space-y-3 ml-6">
        <div class="flex items-start gap-3">
          <mat-icon class="h-4 w-4 text-muted-foreground mt-0.5 flex-shrink-0">place</mat-icon>
          <span class="text-sm">{{ place.address }}</span>
        </div>

        @if (place.location) {
          <div class="flex items-center gap-3">
            <mat-icon class="h-4 w-4 text-muted-foreground">navigation</mat-icon>
            <a class="text-sm text-sky-700" [href]="`https://www.google.com/maps?q=${place.location.lat},${place.location.lng}`" target="_blank">
              {{ formatLocation(place.location.lat, place.location.lng) }}
            </a>
          </div>
        }
      </div>
    </div>

    <mat-divider></mat-divider>

    @if (place.lastSearchDay && place.lastSearchDayOpenTime !== undefined && place.lastSearchDayCloseTime !== undefined) {
      <div class="space-y-4">
        <h3 class="font-medium flex items-center gap-2">
          <mat-icon class="h-4 w-4">schedule</mat-icon>
          Last Search Info
        </h3>

        <div class="space-y-2 ml-6">
          <div class="flex justify-between items-center text-sm">
            <span class="text-muted-foreground">Search Day:</span>
            <span class="font-medium" id="search-day">{{ dayLabels[place.lastSearchDay] }}</span>
          </div>
          <div class="flex justify-between items-center text-sm">
            <span class="text-muted-foreground">Opening Hours:</span>
            <span class="font-medium" id="opening-hours">
              {{ place.lastSearchDayOpenTime }}:00 - {{ place.lastSearchDayCloseTime }}:00
            </span>
          </div>
        </div>
      </div>

      <mat-divider></mat-divider>
    }
  </mat-card-content>
</mat-card>
